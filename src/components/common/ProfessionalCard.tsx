import Image from "next/image";
import Link from "next/link";

interface ProfessionalCardProps {
  name: string;
  description?: string;
  imageUrl?: string;
  href?: string;
  linkedinUrl?: string;
  variant?: "compact" | "full";
}

export function ProfessionalCard({
  name,
  description,
  imageUrl = "/depoimentos.png",
  href,
  linkedinUrl,
  variant = "compact",
}: ProfessionalCardProps) {
  const content = (
    <div className={`flex flex-col gap-4 ${variant === "full" ? "w-[268px]" : "w-[200px]"}`}>
      <div className={`relative overflow-hidden rounded-br-[28px] rounded-tl-[28px] rounded-tr-[28px] ${
        variant === "full" ? "h-[318px] w-[268px]" : "h-[240px] w-[202px]"
      }`}>
        <Image
          src={imageUrl}
          alt={name}
          fill
          className="object-cover"
        />
      </div>

      <div className="flex flex-col gap-2">
        <div className="relative flex items-center">
          <h4 className={`font-bold leading-normal text-primary-dark ${
            variant === "full" ? "text-md" : "text-md"
          }`}>
            {name}
          </h4>
          {linkedinUrl && (
            <a
              href={linkedinUrl}
              target="_blank"
              rel="noopener noreferrer"
              className="absolute right-0 shrink-0"
              aria-label={`LinkedIn de ${name}`}
            >
              <svg
                className="h-[21px] w-[21px] text-primary"
                viewBox="0 0 21 21"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M6.33053 12.3327L12.3305 6.33273C12.4352 6.22808 12.5594 6.14507 12.6961 6.08844C12.8329 6.0318 12.9794 6.00265 13.1274 6.00265C13.2754 6.00265 13.4219 6.0318 13.5587 6.08844C13.6954 6.14507 13.8196 6.22808 13.9243 6.33273C14.0289 6.43738 14.1119 6.56161 14.1686 6.69834C14.2252 6.83506 14.2544 6.98161 14.2544 7.1296C14.2544 7.2776 14.2252 7.42414 14.1686 7.56087C14.1119 7.6976 14.0289 7.82183 13.9243 7.92648L7.92428 13.9265C7.71294 14.1378 7.42629 14.2566 7.12741 14.2566C6.82852 14.2566 6.54188 14.1378 6.33053 13.9265C6.11919 13.7151 6.00046 13.4285 6.00046 13.1296C6.00046 12.8307 6.11919 12.5441 6.33053 12.3327ZM18.6118 1.64523C17.5559 0.591679 16.1251 0 14.6335 0C13.1419 0 11.7112 0.591679 10.6552 1.64523L7.83147 4.46617C7.62013 4.67751 7.50139 4.96415 7.50139 5.26304C7.50139 5.41103 7.53054 5.55758 7.58718 5.69431C7.64381 5.83103 7.72682 5.95527 7.83147 6.05992C7.93612 6.16456 8.06035 6.24757 8.19708 6.30421C8.33381 6.36084 8.48035 6.38999 8.62835 6.38999C8.92723 6.38999 9.21388 6.27126 9.42522 6.05992L12.2443 3.24179C12.8773 2.60863 13.736 2.25287 14.6313 2.25278C15.5266 2.2527 16.3853 2.60828 17.0185 3.24132C17.6517 3.87436 18.0074 4.73299 18.0075 5.62833C18.0076 6.52367 17.652 7.38238 17.019 8.01554L14.1962 10.8327C14.0915 10.9374 14.0085 11.0616 13.9519 11.1983C13.8952 11.3351 13.8661 11.4816 13.8661 11.6296C13.8661 11.7776 13.8952 11.9241 13.9519 12.0609C14.0085 12.1976 14.0915 12.3218 14.1962 12.4265C14.3008 12.5311 14.425 12.6141 14.5618 12.6708C14.6985 12.7274 14.845 12.7566 14.993 12.7566C15.141 12.7566 15.2876 12.7274 15.4243 12.6708C15.561 12.6141 15.6853 12.5311 15.7899 12.4265L18.6099 9.60835C19.664 8.55177 20.2557 7.12009 20.2552 5.62762C20.2547 4.13514 19.6619 2.70387 18.6071 1.64804L18.6118 1.64523ZM10.8324 14.1965L8.01334 17.0165C7.69983 17.3299 7.32766 17.5786 6.91806 17.7482C6.50846 17.9178 6.06947 18.0051 5.62614 18.005C5.18281 18.005 4.74383 17.9176 4.33427 17.7479C3.92471 17.5782 3.55258 17.3295 3.23913 17.016C2.60609 16.3828 2.2505 15.5241 2.25059 14.6288C2.25068 13.7335 2.60643 12.8748 3.2396 12.2418L6.05772 9.42273C6.16237 9.31808 6.24538 9.19385 6.30201 9.05712C6.35865 8.92039 6.3878 8.77385 6.3878 8.62585C6.3878 8.47786 6.35865 8.33132 6.30201 8.19459C6.24538 8.05786 6.16237 7.93363 6.05772 7.82898C5.95307 7.72433 5.82884 7.64132 5.69211 7.58469C5.55538 7.52805 5.40884 7.4989 5.26085 7.4989C5.11285 7.4989 4.96631 7.52805 4.82958 7.58469C4.69285 7.64132 4.56862 7.72433 4.46397 7.82898L1.64772 10.6509C1.12529 11.1734 0.710879 11.7936 0.428163 12.4763C0.145446 13.1589 -4.35177e-05 13.8906 9.76252e-09 14.6295C8.79174e-05 16.1217 0.592959 17.5528 1.64819 18.6079C2.70342 19.663 4.13457 20.2557 5.6268 20.2556C7.11903 20.2555 8.55011 19.6626 9.60522 18.6074L12.4233 15.7884C12.6347 15.577 12.7534 15.2904 12.7534 14.9915C12.7534 14.6926 12.6347 14.4059 12.4233 14.1946C12.212 13.9833 11.9254 13.8645 11.6265 13.8645C11.3276 13.8645 11.0409 13.9833 10.8296 14.1946L10.8324 14.1965Z"
                  fill="#7961F4"
                />
              </svg>
            </a>
          )}
        </div>

        {description && variant === "full" && (
          <p className="text-xs leading-normal text-primary-dark line-clamp-6">
            {description}
          </p>
        )}
      </div>
    </div>
  );

  if (href) {
    return (
      <Link href={href} className="group transition-transform hover:scale-[1.02]">
        {content}
      </Link>
    );
  }

  return content;
}

export default ProfessionalCard;

